# مقدمه

## ترافورم چیست؟
ترافورم[^1]
یکی از ابزارهای
IaC
است که این امکان را می‌دهد تا ماشین‌های مجازی و منابع مورد نیاز برای اجرای برنامه‌های ما را به صورت کد تعریف کنیم.
ترافورم می‌تواند برای مدیریت منابع مختلفی مانند ماشین‌های مجازی، شبکه‌ها، ذخیره‌سازی و ... استفاده شود.

شرکت
[HashiCorp](https://www.hashicorp.com/)
ترافورم را توسعه داده است و این ابزار را به صورت متن‌باز منتشر کرده است. در حال حاضر ترافورم از بیش از ۱۰۰ ارائه‌دهنده ابری پشتیبانی می‌کند.

## ترافورم چگونه کار می‌کند؟
ترافورم با استفاده از
API
سامانه‌های ابری ساختن و مدیریت منابع را بر عهده می‌گیرید. ارائه‌دهنگان ابری این امکان را به ترافورم می‌دهند تا بتواند منابع مورد نیاز را ایجاد کند.

![Image title](/assets/images/terraform-api.avif){ loading=lazy }

HashiCorp
و جامعه ترافورم قبلا هزاران
ارائه‌دهنده[^2]
منابع برای مدیریت انواع مختلف منابع و خدمات نوشته‌اند. شما می‌توانید تمام ارائه‌دهندگان عمومی را در رجیستری ترافورم پیدا کنید،
از جمله سرویس‌های امازون وب سرویس (AWS)،
آژور (Azure)،
پلتفرم ابری گوگل (GCP)، 
کوبرنتیز، هلم، گیت‌هاب، اسپلانک، دیتاداگ و بسیاری سرویس دیگر.
جریان کار اصلی ترافورم شامل سه مرحله است:

+ Write: شما منابع را تعریف می‌کنید که ممکن است بر روی چندین ارائه‌دهنده ابری[^3] و خدمات مختلف باشد. به عنوان مثال، شما ممکن است یک پیکربندی برای استقرار یک برنامه در ماشین‌های مجازی در یک شبکه ابری خصوصی مجازی با گروه‌های امنیتی و یک توزیع‌کننده بار ایجاد کنید.

+ Plan: ترافورم یک برنامه اجرایی ایجاد می‌کند که زیرساختی را که بر اساس زیرساخت موجود و پیکربندی شما ساخته، به‌روزرسانی یا حذف خواهد شد، توصیف می‌کند.

+ Apply: پس از تأیید، ترافورم عملیات پیشنهادی را با رعایت هرگونه وابستگی منابع در ترتیب صحیح انجام می‌دهد. به عنوان مثال، اگر ویژگی‌های یک شبکه ابری را به‌روزرسانی و تعداد ماشین‌های مجازی در آن شبکه را تغییر دهید، ترافورم قبل از مقیاس‌بندی ماشین‌های مجازی، شبکه ابری را بازسازی خواهد کرد.

## چرا ترافورم؟
آرمان دادگر (Armon Dadgar)،
CTO
ایرانی‌الاصل شرکت
HashiCorp
توضیح می‌دهد که چگونه ترافورم چالش‌های زیرساختی را حل می‌کند. این ویدیو را می‌توانید در 
[اینجا](https://www.youtube.com/watch?v=h970ZBgKINg)
مشاهده کنید.

### مدیریت هر زیرساختی
در رجیستری ارائه‌دهنده‌های زیادی وجود دارد که می‌توانید از آن‌ها استفاده کنید. همچنین می‌توانید ارائه‌دهنده سرویس خودتان را بسازید. ترافورم به شما این امکان را می‌دهد تا مدریت و ارتقا سرویس خورد را سریع‌تر انجام بدهید.

### ردیابی زیرساختی شما
ترافورم یک برنامه اجرایی ایجاد می‌کند و پیش از ایجاد تغییرات در زیرساخت، تایید شما را می‌گیرد. همچنین با استفاده از یک فایل حالت[^4]
، زیرساخت واقعی شما را ردیابی می‌کند که به عنوان منبعی از حقیقت برای محیط شما عمل می‌کند. ترافورم از فایل حالت برای تعیین تغییرات مورد نیاز در زیرساخت شما استفاده می‌کند تا با پیکربندی[^5]
شما هم‌خوانی داشته باشد.

### تغییرات خودکار
فایل‌های پیکربندی ترافورم اعلامی
[^6]
هستند، به این معنی که وضعیت نهایی زیرساختتان را توصیف می‌کنند. شما نیازی به نوشتن دستورالعمل‌های مرحله به مرحله برای ایجاد منابع ندارید زیرا ترافورم منطق پایه را مدیریت می‌کند. ترافورم یک گراف منابع ایجاد می‌کند تا وابستگی منابع را تعیین کند و منابع غیر وابسته را به صورت موازی ایجاد یا تغییر دهد. این به ترافورم امکان فراهم آوردن منابع به صورت کارآمد را می‌دهد.

### استانداردسازی پیکربندی‌ها
ترافورم از ماژول‌هایی پشتیبانی می‌کند که مجموعه‌های پیکربندی‌پذیری زیرساختی را تعریف می‌کنند، که زمان را صرفه‌جویی می‌کند و بهترین روش‌ها را تشویق می‌کند. شما می‌توانید از ماژول‌های عمومی موجود در رجیستری ترافورم استفاده کنید یا خودتان ماژول‌های خودتان را بنویسید.

### همکاری
از آنجایی که پیکربندی شما در یک فایل نوشته شده است، می‌توانید آن را در یک سیستم کنترل نسخه (VCS) commit کنید و از طریق Terraform Cloud، گردش کارهای ترافورم را در تیم‌ها به صورت کارآمد مدیریت کنید. Terraform Cloud، ترافورم را در یک محیط همگن و قابل اطمینان اجرا می‌کند و دسترسی امن به حالت مشترک و داده‌های مخفی، کنترل دسترسی بر اساس نقش، یک رجیستری خصوصی برای به اشتراک گذاری هر دو ماژول و ارائه‌دهندگان و بیشتر را فراهم می‌کند.

[^1]: Terraform
[^2]: Provider
[^3]: Cloud Provider
[^4]: State File
[^5]: Configuration
[^6]: Declarative

## منبع
[What is Terraform](https://developer.hashicorp.com/terraform/intro)